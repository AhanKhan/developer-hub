---
title: ICChainVotePower
---

<!-- This is an autogenerated file. Do not edit! -->
`ICChainVotePower.sol` on [GitHub](https://github.com/flare-foundation/flare-smart-contracts-v2/blob/main/contracts/userInterfaces/ICChainVotePower.sol).

## Events

### VotePowerCacheCreated

Emitted when a vote power cache entry is created.
Allows history cleaners to track vote power cache cleanup opportunities off-chain.

```solidity
event VotePowerCacheCreated(
    address account,
    uint256 blockNumber
)
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `account` | `address` | The account whose vote power has just been cached. |
| `blockNumber` | `uint256` | The block number at which the vote power has been cached. |

### VotePowerChanged

Event triggered when a stake is confirmed or at the time it ends.
Definition: `votePowerFromTo(owner, account)` is `changed` from `priorVotePower` to `newVotePower`.

```solidity
event VotePowerChanged(
    address owner,
    address account,
    uint256 priorVotePower,
    uint256 newVotePower
)
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `owner` | `address` | The account that has changed the amount of vote power it is staking. |
| `account` | `address` | The account whose received vote power has changed. |
| `priorVotePower` | `uint256` | The vote power originally on that account. |
| `newVotePower` | `uint256` | The new vote power that triggered this event. |

## Functions

### batchVotePowerOfAt

Return vote powers for several accounts in a batch.

```solidity
function batchVotePowerOfAt(
    address[] _accounts,
    uint256 _blockNumber
) external view returns (
    uint256[]);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_accounts` | `address[]` | The list of accounts to fetch vote power of. |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256[]` | A list of vote powers. |

### stakesOf

Get the amounts and accounts being staked to by a vote power owner.

```solidity
function stakesOf(
    address _owner
) external view returns (
    address[] _accounts,
    uint256[] _amounts);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | The address being queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_accounts` | `address[]` | Array of accounts. |
| `_amounts` | `uint256[]` | Array of staked amounts, for each account. |

### stakesOfAt

Get the amounts and accounts being staked to by a vote power owner,
at a given block.

```solidity
function stakesOfAt(
    address _owner,
    uint256 _blockNumber
) external view returns (
    address[] _accounts,
    uint256[] _amounts);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | The address being queried. |
| `_blockNumber` | `uint256` | The block number being queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_accounts` | `address[]` | Array of accounts. |
| `_amounts` | `uint256[]` | Array of staked amounts, for each account. |

### totalVotePower

Get the current total vote power.

```solidity
function totalVotePower(
) external view returns (
    uint256);
```

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The current total vote power (sum of all accounts' vote powers). |

### totalVotePowerAt

Get the total vote power at block `_blockNumber`

```solidity
function totalVotePowerAt(
    uint256 _blockNumber
) external view returns (
    uint256);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The total vote power at the block  (sum of all accounts' vote powers). |

### totalVotePowerAtCached

Get the total vote power at block `_blockNumber` using cache.
  It tries to read the cached value and if not found, reads the actual value and stores it in cache.
  Can only be used if `_blockNumber` is in the past, otherwise reverts.

```solidity
function totalVotePowerAtCached(
    uint256 _blockNumber
) external returns (
    uint256);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The total vote power at the block (sum of all accounts' vote powers). |

### votePowerFromTo

Get current staked vote power from `_owner` staked to `_account`.

```solidity
function votePowerFromTo(
    address _owner,
    address _account
) external view returns (
    uint256);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | Address of vote power owner. |
| `_account` | `address` | Account. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The staked vote power. |

### votePowerFromToAt

Get current staked vote power from `_owner` staked to `_account` at `_blockNumber`.

```solidity
function votePowerFromToAt(
    address _owner,
    address _account,
    uint256 _blockNumber
) external view returns (
    uint256);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | Address of vote power owner. |
| `_account` | `address` | Account. |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The staked vote power. |

### votePowerOf

Get the current vote power of `_account`.

```solidity
function votePowerOf(
    address _account
) external view returns (
    uint256);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_account` | `address` | The account to get voting power. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Current vote power of `_account`. |

### votePowerOfAt

Get the vote power of `_account` at block `_blockNumber`

```solidity
function votePowerOfAt(
    address _account,
    uint256 _blockNumber
) external view returns (
    uint256);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_account` | `address` | The account to get voting power. |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Vote power of `_account` at `_blockNumber`. |

### votePowerOfAtCached

Get the vote power of `_owner` at block `_blockNumber` using cache.
  It tries to read the cached value and if not found, reads the actual value and stores it in cache.
  Can only be used if _blockNumber is in the past, otherwise reverts.

```solidity
function votePowerOfAtCached(
    address _owner,
    uint256 _blockNumber
) external returns (
    uint256);
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | The account to get voting power. |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Vote power of `_owner` at `_blockNumber`. |

