---
title: Reading feeds offchain
tags: [ftso, oracle]
slug: reading-feeds-off-chain
description: Read FTSOv2 feeds using Python, Rust, JS or Go.
sidebar_position: 1
---

import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

These code examples demonstrate how to read FTSOv2 feeds off-chain using different languages.

## Python

This example uses [web3.py](https://github.com/ethereum/web3.py) to retrieve FTSOv2 feed values for FLR/USD, BTC/USD, and ETH/USD from Flare Testnet Coston.

<Tabs groupId="python">
  <TabItem value="poetry" label="poetry" default>
    ```bash
    poetry add web3
    ```

  </TabItem>
  <TabItem value="pip" label="pip">
    ```bash
    pip install web3
    ```

  </TabItem>
</Tabs>

```python title="ftsov2_consumer.py"
# THIS IS EXAMPLE CODE. DO NOT USE THIS CODE IN PRODUCTION.
import asyncio

from web3 import AsyncHTTPProvider, AsyncWeb3


async def main() -> None:
    #  Feed indexes: 0 = FLR/USD, 2 = BTC/USD, 9 = ETH/USD
    feed_indexes = [0, 2, 9]
    # FastUpdater address (Songbird Testnet Coston)
    addr = "0x9B931f5d3e24fc8C9064DB35bDc8FB4bE0E862f9"
    # Connect to an RPC node
    w3 = AsyncWeb3(
        AsyncHTTPProvider("https://rpc.ankr.com/flare_coston"),
    )
    abi = '[{"type":"constructor","stateMutability":"nonpayable","inputs":[{"type":"address","name":"_governanceSettings","internalType":"contract IGovernanceSettings"},{"type":"address","name":"_initialGovernance","internalType":"address"},{"type":"address","name":"_addressUpdater","internalType":"address"},{"type":"address","name":"_flareDaemon","internalType":"address"},{"type":"uint32","name":"_firstVotingRoundStartTs","internalType":"uint32"},{"type":"uint8","name":"_votingEpochDurationSeconds","internalType":"uint8"},{"type":"uint8","name":"_submissionWindow","internalType":"uint8"}]},{"type":"error","name":"ECDSAInvalidSignature","inputs":[]},{"type":"error","name":"ECDSAInvalidSignatureLength","inputs":[{"type":"uint256","name":"length","internalType":"uint256"}]},{"type":"error","name":"ECDSAInvalidSignatureS","inputs":[{"type":"bytes32","name":"s","internalType":"bytes32"}]},{"type":"event","name":"FastUpdateFeedRemoved","inputs":[{"type":"uint256","name":"index","internalType":"uint256","indexed":true}],"anonymous":false},{"type":"event","name":"FastUpdateFeedReset","inputs":[{"type":"uint256","name":"votingRoundId","internalType":"uint256","indexed":true},{"type":"uint256","name":"index","internalType":"uint256","indexed":true},{"type":"bytes21","name":"id","internalType":"bytes21","indexed":true},{"type":"uint256","name":"value","internalType":"uint256","indexed":false},{"type":"int8","name":"decimals","internalType":"int8","indexed":false}],"anonymous":false},{"type":"event","name":"FastUpdateFeeds","inputs":[{"type":"uint256","name":"votingEpochId","internalType":"uint256","indexed":true},{"type":"uint256[]","name":"feeds","internalType":"uint256[]","indexed":false},{"type":"int8[]","name":"decimals","internalType":"int8[]","indexed":false}],"anonymous":false},{"type":"event","name":"FastUpdateFeedsSubmitted","inputs":[{"type":"uint32","name":"votingRoundId","internalType":"uint32","indexed":true},{"type":"address","name":"signingPolicyAddress","internalType":"address","indexed":true}],"anonymous":false},{"type":"event","name":"GovernanceCallTimelocked","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"allowedAfterTimestamp","internalType":"uint256","indexed":false},{"type":"bytes","name":"encodedCall","internalType":"bytes","indexed":false}],"anonymous":false},{"type":"event","name":"GovernanceInitialised","inputs":[{"type":"address","name":"initialGovernance","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"GovernedProductionModeEntered","inputs":[{"type":"address","name":"governanceSettings","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"TimelockedGovernanceCallCanceled","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"timestamp","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"TimelockedGovernanceCallExecuted","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"timestamp","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"MAX_BLOCKS_HISTORY","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"MAX_FEED_AGE_IN_VOTING_EPOCHS","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_cutoff","internalType":"uint256"}],"name":"blockScoreCutoff","inputs":[{"type":"uint256","name":"_blockNum","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"cancelGovernanceCall","inputs":[{"type":"bytes4","name":"_selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint24","name":"","internalType":"uint24"}],"name":"currentRewardEpochId","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_cutoff","internalType":"uint256"}],"name":"currentScoreCutoff","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_weight","internalType":"uint256"}],"name":"currentSortitionWeight","inputs":[{"type":"address","name":"_signingPolicyAddress","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"daemonize","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"executeGovernanceCall","inputs":[{"type":"bytes4","name":"_selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IIFastUpdateIncentiveManager"}],"name":"fastUpdateIncentiveManager","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFastUpdatesConfiguration"}],"name":"fastUpdatesConfiguration","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"bytes21[]","name":"_feedIds","internalType":"bytes21[]"},{"type":"uint256[]","name":"_feeds","internalType":"uint256[]"},{"type":"int8[]","name":"_decimals","internalType":"int8[]"},{"type":"uint64","name":"_timestamp","internalType":"uint64"}],"name":"fetchAllCurrentFeeds","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256[]","name":"_feeds","internalType":"uint256[]"},{"type":"int8[]","name":"_decimals","internalType":"int8[]"},{"type":"uint64","name":"_timestamp","internalType":"uint64"}],"name":"fetchCurrentFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint64","name":"","internalType":"uint64"}],"name":"firstVotingRoundStartTs","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"flareDaemon","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFlareSystemsManager"}],"name":"flareSystemsManager","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFtsoFeedPublisher"}],"name":"ftsoFeedPublisher","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"_addressUpdater","internalType":"address"}],"name":"getAddressUpdater","inputs":[]},{"type":"function","stateMutability":"pure","outputs":[{"type":"string","name":"","internalType":"string"}],"name":"getContractName","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"governance","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IGovernanceSettings"}],"name":"governanceSettings","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"initialise","inputs":[{"type":"address","name":"_governanceSettings","internalType":"contract IGovernanceSettings"},{"type":"address","name":"_initialGovernance","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"isExecutor","inputs":[{"type":"address","name":"_address","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256[]","name":"_noOfUpdates","internalType":"uint256[]"}],"name":"numberOfUpdates","inputs":[{"type":"uint256","name":"_historySize","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"numberOfUpdatesInBlock","inputs":[{"type":"uint256","name":"_blockNumber","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"productionMode","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"removeFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"resetFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setSubmissionWindow","inputs":[{"type":"uint8","name":"_submissionWindow","internalType":"uint8"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint8","name":"","internalType":"uint8"}],"name":"submissionWindow","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"submitUpdates","inputs":[{"type":"tuple","name":"_updates","internalType":"struct IFastUpdater.FastUpdates","components":[{"type":"uint256","name":"sortitionBlock","internalType":"uint256"},{"type":"tuple","name":"sortitionCredential","internalType":"struct SortitionCredential","components":[{"type":"uint256","name":"replicate","internalType":"uint256"},{"type":"tuple","name":"gamma","internalType":"struct Bn256.G1Point","components":[{"type":"uint256","name":"x","internalType":"uint256"},{"type":"uint256","name":"y","internalType":"uint256"}]},{"type":"uint256","name":"c","internalType":"uint256"},{"type":"uint256","name":"s","internalType":"uint256"}]},{"type":"bytes","name":"deltas","internalType":"bytes"},{"type":"tuple","name":"signature","internalType":"struct IFastUpdater.Signature","components":[{"type":"uint8","name":"v","internalType":"uint8"},{"type":"bytes32","name":"r","internalType":"bytes32"},{"type":"bytes32","name":"s","internalType":"bytes32"}]}]}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"switchToFallbackMode","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"switchToProductionMode","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"allowedAfterTimestamp","internalType":"uint256"},{"type":"bytes","name":"encodedCall","internalType":"bytes"}],"name":"timelockedCalls","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"updateContractAddresses","inputs":[{"type":"bytes32[]","name":"_contractNameHashes","internalType":"bytes32[]"},{"type":"address[]","name":"_contractAddresses","internalType":"address[]"}]},{"type":"function","stateMutability":"view","outputs":[],"name":"verifyPublicKey","inputs":[{"type":"address","name":"_voter","internalType":"address"},{"type":"bytes32","name":"_part1","internalType":"bytes32"},{"type":"bytes32","name":"_part2","internalType":"bytes32"},{"type":"bytes","name":"_verificationData","internalType":"bytes"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IIVoterRegistry"}],"name":"voterRegistry","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint64","name":"","internalType":"uint64"}],"name":"votingEpochDurationSeconds","inputs":[]}]'
    # Set up contract instance
    ftsoV2 = w3.eth.contract(address=addr, abi=abi)
    # Fetch current feeds
    feeds, decimals, timestamp = await ftsoV2.functions.fetchCurrentFeeds(feed_indexes).call()
    print(feeds, decimals, timestamp)


if __name__ == "__main__":
    asyncio.run(main())
```

## Rust

This example uses [alloy-rs](https://github.com/alloy-rs) to retrieve FTSOv2 feed data for FLR/USD, BTC/USD, and ETH/USD from Flare Testnet Coston.

```bash
cargo add alloy --git "https://github.com/alloy-rs/alloy" --features "contract providers transport-http network"
cargo add tokio --features "rt rt-multi-thread macros"
cargo add eyre
```

```Rust title="ftsov2_consumer.rs"
// THIS IS EXAMPLE CODE. DO NOT USE THIS CODE IN PRODUCTION.
use alloy::{primitives::U256, providers::ProviderBuilder, sol};
use eyre::Result;

sol!(
    #[sol(rpc)]
    FtsoV2,
    r#"[{"type":"constructor","stateMutability":"nonpayable","inputs":[{"type":"address","name":"_governanceSettings","internalType":"contract IGovernanceSettings"},{"type":"address","name":"_initialGovernance","internalType":"address"},{"type":"address","name":"_addressUpdater","internalType":"address"},{"type":"address","name":"_flareDaemon","internalType":"address"},{"type":"uint32","name":"_firstVotingRoundStartTs","internalType":"uint32"},{"type":"uint8","name":"_votingEpochDurationSeconds","internalType":"uint8"},{"type":"uint8","name":"_submissionWindow","internalType":"uint8"}]},{"type":"error","name":"ECDSAInvalidSignature","inputs":[]},{"type":"error","name":"ECDSAInvalidSignatureLength","inputs":[{"type":"uint256","name":"length","internalType":"uint256"}]},{"type":"error","name":"ECDSAInvalidSignatureS","inputs":[{"type":"bytes32","name":"s","internalType":"bytes32"}]},{"type":"event","name":"FastUpdateFeedRemoved","inputs":[{"type":"uint256","name":"index","internalType":"uint256","indexed":true}],"anonymous":false},{"type":"event","name":"FastUpdateFeedReset","inputs":[{"type":"uint256","name":"votingRoundId","internalType":"uint256","indexed":true},{"type":"uint256","name":"index","internalType":"uint256","indexed":true},{"type":"bytes21","name":"id","internalType":"bytes21","indexed":true},{"type":"uint256","name":"value","internalType":"uint256","indexed":false},{"type":"int8","name":"decimals","internalType":"int8","indexed":false}],"anonymous":false},{"type":"event","name":"FastUpdateFeeds","inputs":[{"type":"uint256","name":"votingEpochId","internalType":"uint256","indexed":true},{"type":"uint256[]","name":"feeds","internalType":"uint256[]","indexed":false},{"type":"int8[]","name":"decimals","internalType":"int8[]","indexed":false}],"anonymous":false},{"type":"event","name":"FastUpdateFeedsSubmitted","inputs":[{"type":"uint32","name":"votingRoundId","internalType":"uint32","indexed":true},{"type":"address","name":"signingPolicyAddress","internalType":"address","indexed":true}],"anonymous":false},{"type":"event","name":"GovernanceCallTimelocked","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"allowedAfterTimestamp","internalType":"uint256","indexed":false},{"type":"bytes","name":"encodedCall","internalType":"bytes","indexed":false}],"anonymous":false},{"type":"event","name":"GovernanceInitialised","inputs":[{"type":"address","name":"initialGovernance","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"GovernedProductionModeEntered","inputs":[{"type":"address","name":"governanceSettings","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"TimelockedGovernanceCallCanceled","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"timestamp","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"TimelockedGovernanceCallExecuted","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"timestamp","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"MAX_BLOCKS_HISTORY","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"MAX_FEED_AGE_IN_VOTING_EPOCHS","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_cutoff","internalType":"uint256"}],"name":"blockScoreCutoff","inputs":[{"type":"uint256","name":"_blockNum","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"cancelGovernanceCall","inputs":[{"type":"bytes4","name":"_selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint24","name":"","internalType":"uint24"}],"name":"currentRewardEpochId","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_cutoff","internalType":"uint256"}],"name":"currentScoreCutoff","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_weight","internalType":"uint256"}],"name":"currentSortitionWeight","inputs":[{"type":"address","name":"_signingPolicyAddress","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"daemonize","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"executeGovernanceCall","inputs":[{"type":"bytes4","name":"_selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IIFastUpdateIncentiveManager"}],"name":"fastUpdateIncentiveManager","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFastUpdatesConfiguration"}],"name":"fastUpdatesConfiguration","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"bytes21[]","name":"_feedIds","internalType":"bytes21[]"},{"type":"uint256[]","name":"_feeds","internalType":"uint256[]"},{"type":"int8[]","name":"_decimals","internalType":"int8[]"},{"type":"uint64","name":"_timestamp","internalType":"uint64"}],"name":"fetchAllCurrentFeeds","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256[]","name":"_feeds","internalType":"uint256[]"},{"type":"int8[]","name":"_decimals","internalType":"int8[]"},{"type":"uint64","name":"_timestamp","internalType":"uint64"}],"name":"fetchCurrentFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint64","name":"","internalType":"uint64"}],"name":"firstVotingRoundStartTs","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"flareDaemon","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFlareSystemsManager"}],"name":"flareSystemsManager","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFtsoFeedPublisher"}],"name":"ftsoFeedPublisher","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"_addressUpdater","internalType":"address"}],"name":"getAddressUpdater","inputs":[]},{"type":"function","stateMutability":"pure","outputs":[{"type":"string","name":"","internalType":"string"}],"name":"getContractName","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"governance","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IGovernanceSettings"}],"name":"governanceSettings","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"initialise","inputs":[{"type":"address","name":"_governanceSettings","internalType":"contract IGovernanceSettings"},{"type":"address","name":"_initialGovernance","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"isExecutor","inputs":[{"type":"address","name":"_address","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256[]","name":"_noOfUpdates","internalType":"uint256[]"}],"name":"numberOfUpdates","inputs":[{"type":"uint256","name":"_historySize","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"numberOfUpdatesInBlock","inputs":[{"type":"uint256","name":"_blockNumber","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"productionMode","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"removeFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"resetFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setSubmissionWindow","inputs":[{"type":"uint8","name":"_submissionWindow","internalType":"uint8"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint8","name":"","internalType":"uint8"}],"name":"submissionWindow","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"submitUpdates","inputs":[{"type":"tuple","name":"_updates","internalType":"struct IFastUpdater.FastUpdates","components":[{"type":"uint256","name":"sortitionBlock","internalType":"uint256"},{"type":"tuple","name":"sortitionCredential","internalType":"struct SortitionCredential","components":[{"type":"uint256","name":"replicate","internalType":"uint256"},{"type":"tuple","name":"gamma","internalType":"struct Bn256.G1Point","components":[{"type":"uint256","name":"x","internalType":"uint256"},{"type":"uint256","name":"y","internalType":"uint256"}]},{"type":"uint256","name":"c","internalType":"uint256"},{"type":"uint256","name":"s","internalType":"uint256"}]},{"type":"bytes","name":"deltas","internalType":"bytes"},{"type":"tuple","name":"signature","internalType":"struct IFastUpdater.Signature","components":[{"type":"uint8","name":"v","internalType":"uint8"},{"type":"bytes32","name":"r","internalType":"bytes32"},{"type":"bytes32","name":"s","internalType":"bytes32"}]}]}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"switchToFallbackMode","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"switchToProductionMode","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"allowedAfterTimestamp","internalType":"uint256"},{"type":"bytes","name":"encodedCall","internalType":"bytes"}],"name":"timelockedCalls","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"updateContractAddresses","inputs":[{"type":"bytes32[]","name":"_contractNameHashes","internalType":"bytes32[]"},{"type":"address[]","name":"_contractAddresses","internalType":"address[]"}]},{"type":"function","stateMutability":"view","outputs":[],"name":"verifyPublicKey","inputs":[{"type":"address","name":"_voter","internalType":"address"},{"type":"bytes32","name":"_part1","internalType":"bytes32"},{"type":"bytes32","name":"_part2","internalType":"bytes32"},{"type":"bytes","name":"_verificationData","internalType":"bytes"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IIVoterRegistry"}],"name":"voterRegistry","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint64","name":"","internalType":"uint64"}],"name":"votingEpochDurationSeconds","inputs":[]}]"#
);

#[tokio::main]
async fn main() -> Result<()> {
    // Feed indexes: 0 = FLR/USD, 2 = BTC/USD, 9 = ETH/USD
    let feed_indexes = vec![U256::from(0_u32), U256::from(2_u32), U256::from(9_u32)];
    // FastUpdater address (Songbird Testnet Coston)
    let addr = "0x9B931f5d3e24fc8C9064DB35bDc8FB4bE0E862f9".parse()?;
    // Connect to an RPC node
    let provider = ProviderBuilder::new().on_http("https://rpc.ankr.com/flare_coston".parse()?);
    // Set up contract instance
    let ftsov2 = FtsoV2::new(addr, provider);
    // Fetch current feeds
    let FtsoV2::fetchCurrentFeedsReturn {
        _feeds,
        _decimals,
        _timestamp,
    } = ftsov2.fetchCurrentFeeds(feed_indexes).call().await?;
    println!("{_feeds:?}, {_decimals:?}, {_timestamp:?}");
    Ok(())
}
```

## JavaScript

This example uses [web3.js](https://github.com/web3/web3.js) to retrieve FTSOv2 feed data for FLR/USD, BTC/USD, and ETH/USD from Flare Testnet Coston.

<Tabs groupId="web3">
  <TabItem value="web3js" label="web3.js" default>
    ```bash
    npm install web3
    ```

  </TabItem>
  <TabItem value="ethersjs" label="ethers.js">
    ```bash
    npm install ethers
    ```

  </TabItem>
</Tabs>

<Tabs groupId="web3">
  <TabItem value="web3js" label="web3.js" default>
    ```javascript title="ftsov2_consumer.js"
    // THIS IS EXAMPLE CODE. DO NOT USE THIS CODE IN PRODUCTION.
    import { Web3 } from "web3";

    // FastUpdater address (Songbird Testnet Coston)
    const addr = "0x9B931f5d3e24fc8C9064DB35bDc8FB4bE0E862f9";
    // Connect to an RPC node
    const w3 = new Web3("https://rpc.ankr.com/flare_coston");
    var abi = '[{"type":"constructor","stateMutability":"nonpayable","inputs":[{"type":"address","name":"_governanceSettings","internalType":"contract IGovernanceSettings"},{"type":"address","name":"_initialGovernance","internalType":"address"},{"type":"address","name":"_addressUpdater","internalType":"address"},{"type":"address","name":"_flareDaemon","internalType":"address"},{"type":"uint32","name":"_firstVotingRoundStartTs","internalType":"uint32"},{"type":"uint8","name":"_votingEpochDurationSeconds","internalType":"uint8"},{"type":"uint8","name":"_submissionWindow","internalType":"uint8"}]},{"type":"error","name":"ECDSAInvalidSignature","inputs":[]},{"type":"error","name":"ECDSAInvalidSignatureLength","inputs":[{"type":"uint256","name":"length","internalType":"uint256"}]},{"type":"error","name":"ECDSAInvalidSignatureS","inputs":[{"type":"bytes32","name":"s","internalType":"bytes32"}]},{"type":"event","name":"FastUpdateFeedRemoved","inputs":[{"type":"uint256","name":"index","internalType":"uint256","indexed":true}],"anonymous":false},{"type":"event","name":"FastUpdateFeedReset","inputs":[{"type":"uint256","name":"votingRoundId","internalType":"uint256","indexed":true},{"type":"uint256","name":"index","internalType":"uint256","indexed":true},{"type":"bytes21","name":"id","internalType":"bytes21","indexed":true},{"type":"uint256","name":"value","internalType":"uint256","indexed":false},{"type":"int8","name":"decimals","internalType":"int8","indexed":false}],"anonymous":false},{"type":"event","name":"FastUpdateFeeds","inputs":[{"type":"uint256","name":"votingEpochId","internalType":"uint256","indexed":true},{"type":"uint256[]","name":"feeds","internalType":"uint256[]","indexed":false},{"type":"int8[]","name":"decimals","internalType":"int8[]","indexed":false}],"anonymous":false},{"type":"event","name":"FastUpdateFeedsSubmitted","inputs":[{"type":"uint32","name":"votingRoundId","internalType":"uint32","indexed":true},{"type":"address","name":"signingPolicyAddress","internalType":"address","indexed":true}],"anonymous":false},{"type":"event","name":"GovernanceCallTimelocked","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"allowedAfterTimestamp","internalType":"uint256","indexed":false},{"type":"bytes","name":"encodedCall","internalType":"bytes","indexed":false}],"anonymous":false},{"type":"event","name":"GovernanceInitialised","inputs":[{"type":"address","name":"initialGovernance","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"GovernedProductionModeEntered","inputs":[{"type":"address","name":"governanceSettings","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"TimelockedGovernanceCallCanceled","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"timestamp","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"TimelockedGovernanceCallExecuted","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"timestamp","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"MAX_BLOCKS_HISTORY","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"MAX_FEED_AGE_IN_VOTING_EPOCHS","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_cutoff","internalType":"uint256"}],"name":"blockScoreCutoff","inputs":[{"type":"uint256","name":"_blockNum","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"cancelGovernanceCall","inputs":[{"type":"bytes4","name":"_selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint24","name":"","internalType":"uint24"}],"name":"currentRewardEpochId","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_cutoff","internalType":"uint256"}],"name":"currentScoreCutoff","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_weight","internalType":"uint256"}],"name":"currentSortitionWeight","inputs":[{"type":"address","name":"_signingPolicyAddress","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"daemonize","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"executeGovernanceCall","inputs":[{"type":"bytes4","name":"_selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IIFastUpdateIncentiveManager"}],"name":"fastUpdateIncentiveManager","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFastUpdatesConfiguration"}],"name":"fastUpdatesConfiguration","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"bytes21[]","name":"\_feedIds","internalType":"bytes21[]"},{"type":"uint256[]","name":"\_feeds","internalType":"uint256[]"},{"type":"int8[]","name":"\_decimals","internalType":"int8[]"},{"type":"uint64","name":"\_timestamp","internalType":"uint64"}],"name":"fetchAllCurrentFeeds","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256[]","name":"\_feeds","internalType":"uint256[]"},{"type":"int8[]","name":"\_decimals","internalType":"int8[]"},{"type":"uint64","name":"\_timestamp","internalType":"uint64"}],"name":"fetchCurrentFeeds","inputs":[{"type":"uint256[]","name":"\_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint64","name":"","internalType":"uint64"}],"name":"firstVotingRoundStartTs","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"flareDaemon","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFlareSystemsManager"}],"name":"flareSystemsManager","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFtsoFeedPublisher"}],"name":"ftsoFeedPublisher","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"_addressUpdater","internalType":"address"}],"name":"getAddressUpdater","inputs":[]},{"type":"function","stateMutability":"pure","outputs":[{"type":"string","name":"","internalType":"string"}],"name":"getContractName","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"governance","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IGovernanceSettings"}],"name":"governanceSettings","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"initialise","inputs":[{"type":"address","name":"_governanceSettings","internalType":"contract IGovernanceSettings"},{"type":"address","name":"_initialGovernance","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"isExecutor","inputs":[{"type":"address","name":"_address","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256[]","name":"\_noOfUpdates","internalType":"uint256[]"}],"name":"numberOfUpdates","inputs":[{"type":"uint256","name":"_historySize","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"numberOfUpdatesInBlock","inputs":[{"type":"uint256","name":"_blockNumber","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"productionMode","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"removeFeeds","inputs":[{"type":"uint256[]","name":"\_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"resetFeeds","inputs":[{"type":"uint256[]","name":"\_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setSubmissionWindow","inputs":[{"type":"uint8","name":"_submissionWindow","internalType":"uint8"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint8","name":"","internalType":"uint8"}],"name":"submissionWindow","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"submitUpdates","inputs":[{"type":"tuple","name":"\_updates","internalType":"struct IFastUpdater.FastUpdates","components":[{"type":"uint256","name":"sortitionBlock","internalType":"uint256"},{"type":"tuple","name":"sortitionCredential","internalType":"struct SortitionCredential","components":[{"type":"uint256","name":"replicate","internalType":"uint256"},{"type":"tuple","name":"gamma","internalType":"struct Bn256.G1Point","components":[{"type":"uint256","name":"x","internalType":"uint256"},{"type":"uint256","name":"y","internalType":"uint256"}]},{"type":"uint256","name":"c","internalType":"uint256"},{"type":"uint256","name":"s","internalType":"uint256"}]},{"type":"bytes","name":"deltas","internalType":"bytes"},{"type":"tuple","name":"signature","internalType":"struct IFastUpdater.Signature","components":[{"type":"uint8","name":"v","internalType":"uint8"},{"type":"bytes32","name":"r","internalType":"bytes32"},{"type":"bytes32","name":"s","internalType":"bytes32"}]}]}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"switchToFallbackMode","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"switchToProductionMode","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"allowedAfterTimestamp","internalType":"uint256"},{"type":"bytes","name":"encodedCall","internalType":"bytes"}],"name":"timelockedCalls","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"updateContractAddresses","inputs":[{"type":"bytes32[]","name":"\_contractNameHashes","internalType":"bytes32[]"},{"type":"address[]","name":"\_contractAddresses","internalType":"address[]"}]},{"type":"function","stateMutability":"view","outputs":[],"name":"verifyPublicKey","inputs":[{"type":"address","name":"_voter","internalType":"address"},{"type":"bytes32","name":"_part1","internalType":"bytes32"},{"type":"bytes32","name":"_part2","internalType":"bytes32"},{"type":"bytes","name":"_verificationData","internalType":"bytes"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IIVoterRegistry"}],"name":"voterRegistry","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint64","name":"","internalType":"uint64"}],"name":"votingEpochDurationSeconds","inputs":[]}]';
    // Set up contract instance
    const ftsov2 = new w3.eth.Contract(JSON.parse(abi), addr);
    // Feed indexes: 0 = FLR/USD, 2 = BTC/USD, 9 = ETH/USD
    const feedIndexes = [0, 2, 9];
    // Fetch current feeds
    const res = await ftsov2.methods.fetchCurrentFeeds(feedIndexes).call();
    console.log(res["_feeds"], res["_decimals"], res["_timestamp"]);
    ```

  </TabItem>
  <TabItem value="ethersjs" label="ethers.js">

    ```javascript title="ftsov2_consumer.js"
    // THIS IS EXAMPLE CODE. DO NOT USE THIS CODE IN PRODUCTION.
    import { ethers } from "ethers";

    // FastUpdater address (Songbird Testnet Coston)
    const addr = "0x9B931f5d3e24fc8C9064DB35bDc8FB4bE0E862f9";
    // Connect to an RPC node
    const provider = new ethers.JsonRpcProvider("https://rpc.ankr.com/flare_coston");
    var abi = '[{"type":"constructor","stateMutability":"nonpayable","inputs":[{"type":"address","name":"_governanceSettings","internalType":"contract IGovernanceSettings"},{"type":"address","name":"_initialGovernance","internalType":"address"},{"type":"address","name":"_addressUpdater","internalType":"address"},{"type":"address","name":"_flareDaemon","internalType":"address"},{"type":"uint32","name":"_firstVotingRoundStartTs","internalType":"uint32"},{"type":"uint8","name":"_votingEpochDurationSeconds","internalType":"uint8"},{"type":"uint8","name":"_submissionWindow","internalType":"uint8"}]},{"type":"error","name":"ECDSAInvalidSignature","inputs":[]},{"type":"error","name":"ECDSAInvalidSignatureLength","inputs":[{"type":"uint256","name":"length","internalType":"uint256"}]},{"type":"error","name":"ECDSAInvalidSignatureS","inputs":[{"type":"bytes32","name":"s","internalType":"bytes32"}]},{"type":"event","name":"FastUpdateFeedRemoved","inputs":[{"type":"uint256","name":"index","internalType":"uint256","indexed":true}],"anonymous":false},{"type":"event","name":"FastUpdateFeedReset","inputs":[{"type":"uint256","name":"votingRoundId","internalType":"uint256","indexed":true},{"type":"uint256","name":"index","internalType":"uint256","indexed":true},{"type":"bytes21","name":"id","internalType":"bytes21","indexed":true},{"type":"uint256","name":"value","internalType":"uint256","indexed":false},{"type":"int8","name":"decimals","internalType":"int8","indexed":false}],"anonymous":false},{"type":"event","name":"FastUpdateFeeds","inputs":[{"type":"uint256","name":"votingEpochId","internalType":"uint256","indexed":true},{"type":"uint256[]","name":"feeds","internalType":"uint256[]","indexed":false},{"type":"int8[]","name":"decimals","internalType":"int8[]","indexed":false}],"anonymous":false},{"type":"event","name":"FastUpdateFeedsSubmitted","inputs":[{"type":"uint32","name":"votingRoundId","internalType":"uint32","indexed":true},{"type":"address","name":"signingPolicyAddress","internalType":"address","indexed":true}],"anonymous":false},{"type":"event","name":"GovernanceCallTimelocked","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"allowedAfterTimestamp","internalType":"uint256","indexed":false},{"type":"bytes","name":"encodedCall","internalType":"bytes","indexed":false}],"anonymous":false},{"type":"event","name":"GovernanceInitialised","inputs":[{"type":"address","name":"initialGovernance","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"GovernedProductionModeEntered","inputs":[{"type":"address","name":"governanceSettings","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"TimelockedGovernanceCallCanceled","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"timestamp","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"TimelockedGovernanceCallExecuted","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4","indexed":false},{"type":"uint256","name":"timestamp","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"MAX_BLOCKS_HISTORY","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"MAX_FEED_AGE_IN_VOTING_EPOCHS","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_cutoff","internalType":"uint256"}],"name":"blockScoreCutoff","inputs":[{"type":"uint256","name":"_blockNum","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"cancelGovernanceCall","inputs":[{"type":"bytes4","name":"_selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint24","name":"","internalType":"uint24"}],"name":"currentRewardEpochId","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_cutoff","internalType":"uint256"}],"name":"currentScoreCutoff","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"_weight","internalType":"uint256"}],"name":"currentSortitionWeight","inputs":[{"type":"address","name":"_signingPolicyAddress","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"daemonize","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"executeGovernanceCall","inputs":[{"type":"bytes4","name":"_selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IIFastUpdateIncentiveManager"}],"name":"fastUpdateIncentiveManager","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFastUpdatesConfiguration"}],"name":"fastUpdatesConfiguration","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"bytes21[]","name":"_feedIds","internalType":"bytes21[]"},{"type":"uint256[]","name":"_feeds","internalType":"uint256[]"},{"type":"int8[]","name":"_decimals","internalType":"int8[]"},{"type":"uint64","name":"_timestamp","internalType":"uint64"}],"name":"fetchAllCurrentFeeds","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256[]","name":"_feeds","internalType":"uint256[]"},{"type":"int8[]","name":"_decimals","internalType":"int8[]"},{"type":"uint64","name":"_timestamp","internalType":"uint64"}],"name":"fetchCurrentFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint64","name":"","internalType":"uint64"}],"name":"firstVotingRoundStartTs","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"flareDaemon","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFlareSystemsManager"}],"name":"flareSystemsManager","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IFtsoFeedPublisher"}],"name":"ftsoFeedPublisher","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"_addressUpdater","internalType":"address"}],"name":"getAddressUpdater","inputs":[]},{"type":"function","stateMutability":"pure","outputs":[{"type":"string","name":"","internalType":"string"}],"name":"getContractName","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"governance","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IGovernanceSettings"}],"name":"governanceSettings","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"initialise","inputs":[{"type":"address","name":"_governanceSettings","internalType":"contract IGovernanceSettings"},{"type":"address","name":"_initialGovernance","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"isExecutor","inputs":[{"type":"address","name":"_address","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256[]","name":"_noOfUpdates","internalType":"uint256[]"}],"name":"numberOfUpdates","inputs":[{"type":"uint256","name":"_historySize","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"numberOfUpdatesInBlock","inputs":[{"type":"uint256","name":"_blockNumber","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"productionMode","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"removeFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"resetFeeds","inputs":[{"type":"uint256[]","name":"_indices","internalType":"uint256[]"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setSubmissionWindow","inputs":[{"type":"uint8","name":"_submissionWindow","internalType":"uint8"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint8","name":"","internalType":"uint8"}],"name":"submissionWindow","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"submitUpdates","inputs":[{"type":"tuple","name":"_updates","internalType":"struct IFastUpdater.FastUpdates","components":[{"type":"uint256","name":"sortitionBlock","internalType":"uint256"},{"type":"tuple","name":"sortitionCredential","internalType":"struct SortitionCredential","components":[{"type":"uint256","name":"replicate","internalType":"uint256"},{"type":"tuple","name":"gamma","internalType":"struct Bn256.G1Point","components":[{"type":"uint256","name":"x","internalType":"uint256"},{"type":"uint256","name":"y","internalType":"uint256"}]},{"type":"uint256","name":"c","internalType":"uint256"},{"type":"uint256","name":"s","internalType":"uint256"}]},{"type":"bytes","name":"deltas","internalType":"bytes"},{"type":"tuple","name":"signature","internalType":"struct IFastUpdater.Signature","components":[{"type":"uint8","name":"v","internalType":"uint8"},{"type":"bytes32","name":"r","internalType":"bytes32"},{"type":"bytes32","name":"s","internalType":"bytes32"}]}]}]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"switchToFallbackMode","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"switchToProductionMode","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"allowedAfterTimestamp","internalType":"uint256"},{"type":"bytes","name":"encodedCall","internalType":"bytes"}],"name":"timelockedCalls","inputs":[{"type":"bytes4","name":"selector","internalType":"bytes4"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"updateContractAddresses","inputs":[{"type":"bytes32[]","name":"_contractNameHashes","internalType":"bytes32[]"},{"type":"address[]","name":"_contractAddresses","internalType":"address[]"}]},{"type":"function","stateMutability":"view","outputs":[],"name":"verifyPublicKey","inputs":[{"type":"address","name":"_voter","internalType":"address"},{"type":"bytes32","name":"_part1","internalType":"bytes32"},{"type":"bytes32","name":"_part2","internalType":"bytes32"},{"type":"bytes","name":"_verificationData","internalType":"bytes"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IIVoterRegistry"}],"name":"voterRegistry","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint64","name":"","internalType":"uint64"}],"name":"votingEpochDurationSeconds","inputs":[]}]';
    // Set up contract instance
    const ftsov2 = new ethers.Contract(addr, JSON.parse(abi), provider)
    // Feed indexes: 0 = FLR/USD, 2 = BTC/USD, 9 = ETH/USD
    const feedIndexes = [0, 2, 9];
    // Fetch current feeds
    const res = await ftsov2.fetchCurrentFeeds(feedIndexes);
    console.log(res[0], res[1], res[2]);
    ```

  </TabItem>
</Tabs>

## Go

This example uses the Go API from [Geth](https://geth.ethereum.org) to retrieve FTSOv2 feed data for FLR/USD, BTC/USD, and ETH/USD from Flare Testnet Coston.

```bash
go get github.com/ethereum/go-ethereum/ethclient
```

With Go, you need to manually fetch the contract's ABI and generate the Go bindings. Copy the Contract ABI from the [Coston Explorer](https://coston-explorer.flare.network/address/0x9B931f5d3e24fc8C9064DB35bDc8FB4bE0E862f9/contracts#address-tabs) and paste it into a file named `IFastUpdater.abi`, located in the root of your project, i.e. same level as go.mod. Then using [abigen](https://geth.ethereum.org/docs/tools/abigen), generate the Go bindings.

```bash
abigen --abi IFastUpdater.abi --pkg main --type IFastUpdater --out IFastUpdater.go
```

```go title="ftsov2_consumer.go"
// THIS IS EXAMPLE CODE. DO NOT USE THIS CODE IN PRODUCTION.
package main

import (
  "context"
  "fmt"

  "github.com/ethereum/go-ethereum/accounts/abi/bind"
  "github.com/ethereum/go-ethereum/common"
  "github.com/ethereum/go-ethereum/ethclient"
  "math/big"
)

func FtsoV2Consumer() {
  // FastUpdater address (Songbird Testnet Coston)
  addr := common.HexToAddress("0x9B931f5d3e24fc8C9064DB35bDc8FB4bE0E862f9")
  // Connect to an RPC node
  client, err := ethclient.Dial("https://rpc.ankr.com/flare_coston")
  if err != nil {
    panic(err)
  }
  // Set up contract instance
  ftsov2, err := NewIFastUpdater(addr, client)
  if err != nil {
    panic(err)
  }
  // Feed indexes: 0 = FLR/USD, 2 = BTC/USD, 9 = ETH/USD
  feedIndexes := []*big.Int{big.NewInt(0), big.NewInt(2), big.NewInt(9)}
  callOpts := &bind.CallOpts{Context: context.Background(), Pending: false}
  // Fetch current feeds
  res, err := ftsov2.FetchCurrentFeeds(&bind.CallOpts{Context: context.Background()}, feedIndexes)
  if err != nil {
    panic(err)
  }
  fmt.Println(res.Feeds, res.Decimals, res.Timestamp)
}
```
