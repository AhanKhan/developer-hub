---
slug: getting-started
title: Getting Started
---

import Remix from "@site/src/components/remix";
import SetEvmVersion from "/static/img/ftso-getting-started/0-set-evm-version.png";
import SetInjectedProvider from "/static/img/ftso-getting-started/1-set-injected-provider.png";
import CompileContract from "/static/img/ftso-getting-started/2-compile-contract.png";
import DeployContract from "/static/img/ftso-getting-started/3-deploy-contract.png";
import ConfirmDeployInMetamask from "/static/img/ftso-getting-started/4-confirm-deploy-in-metamask.png";
import QueryLatestFeeds from "/static/img/ftso-getting-started/5-query-latest-feeds.png";

You can use FTSOv2 to connect your smart contracts to real-world data feeds. FTSOv2 leverages Flare's network of 100 independent data providers to source off-chain data and deliver it on-chain. This section focuses on consuming FTSOv2's block-latency feeds on Flare with an on-chain Solidity contract.

:::note
If you are new to smart contract development, learn how to [deploy your first smart contract](../../guides/deploy-first-contract) before you start this guide.
:::

:::note
To read FTSOv2 feeds off-chain or use different languages, see the language specific guides for [Python](../../guides/flare-for-python-developers), [Rust](../../guides/flare-for-rust-developers), [JavaScript](../../guides/flare-for-javascript-developers), or [Go](../../guides/flare-for-go-developers)
:::

## Sample contract

This example smart contact queries the latest feed values for FLR/USD, BTC/USD and ETH/USD from FTSOv2 on Flare Testnet Coston.

```solidity title="FtsoV2FeedConsumer.sol"
// SPDX-License-Identifier: MIT
pragma solidity <0.9.0;

import { IFastUpdater } from "@flarenetwork/flare-periphery-contracts/flare/ftso/userInterfaces/IFastUpdater.sol";

/**
 * THIS IS AN EXAMPLE CONTRACT USING HARDCODED VALUES.
 * DO NOT USE THIS CODE IN PRODUCTION.
 */

contract FtsoV2FeedConsumer {
    IFastUpdater internal ftsoV2;
    // Feed indexes: 0 = FLR/USD, 2 = BTC/USD, 9 = ETH/USD
    uint256[] public feedIndexes = [0, 2, 9];

    /**
     * Network: Flare Testnet Coston
     * Address: 0x9B931f5d3e24fc8C9064DB35bDc8FB4bE0E862f9
     */
    constructor() {
        ftsoV2 = IFastUpdater(0x9B931f5d3e24fc8C9064DB35bDc8FB4bE0E862f9);
    }

    /**
     * Get the current value of the feeds.
     */
    function getFtsoV2CurrentFeedValues()
        public
        view
        returns (uint256[] memory _feedValues, int8[] memory _decimals)
    {
        return ftsoV2.fetchCurrentFeeds(feedIndexes);
    }
}
```

{/* prettier-ignore */}
<Remix href="https://remix.ethereum.org/#version=soljson-v0.8.25+commit.b61c2a91.js&optimize=true&runs=200&gist=d6181b71e7932701efbc6c3c78898f5a">Open in Remix</Remix>

### Breaking down the contract

- The contract imports the `IFastUpdater` interface from the Flare smart contracts library. You can also see the interface's full [Solidity reference](./solidity-reference/IFastUpdater).
- The contract defines an array of feed indexes to query. The indexes `[0, 2, 9]`correspond to FLR/USD, BTC/USD, and ETH/USD respectively.
- The contract initializes the `ftsoV2` variable with the address of the FTSOv2 contract on Songbird Testnet Coston.
- The `getFtsoV2CurrentFeedValues` function queries the FTSOv2 contract for the latest values of the specified feeds.

## Compile, deploy, and run the contract

:::info
If you have not already configured your MetaMask wallet to support Flare Testnet Coston2 and funded it with testnet C2FLR, learn how to [deploy your first smart contract](../../guides/deploy-first-contract).

You can get testnet C2FLR from the [Coston2 Faucet](https://faucet.flare.network/coston2).
:::

{/* prettier-ignore */}
1. <Remix href="https://remix.ethereum.org/#version=soljson-v0.8.25+commit.b61c2a91.js&optimize=true&runs=200&gist=d6181b71e7932701efbc6c3c78898f5a">Open the contract in Remix</Remix>

2. Click on `FtsoV2FeedConsumer.sol` in the file explorer to open the contract in the editor.

2. On the left side of Remix, click the **Solidity Compiler** tab to view the compiler settings. Expand **Advanced Configuration** and set **EVM Version** to `london`.

   <img src={SetEvmVersion} style={{ width: 300 }} />

3. Click the **Compile FtsoV2FeedConsumer.sol** button to compile the contract.

    <img src={CompileContract} style={{ width: 300 }} />

4. On the **Deploy & Run transactions** tab, select the **Injected Provider - MetaMask** environment.

   <img src={SetInjectedProvider} style={{ width: 300 }} />

6. Click **Deploy** to deploy the contract to Flare Testnet Coston2. MetaMask opens and asks you to confirm payment for deploying the contract. Make sure MetaMask is set to Flare Testnet Coston2 before you confirm the transaction.

    <img src={DeployContract} style={{ width: 300 }} />

7. In the MetaMask prompt, click **Confirm** to approve the transaction and spend your testnet `C2FLR` required to deploy the contract.

    <img src={ConfirmDeployInMetamask} style={{ width: 300 }} />

8. After a few seconds, the transaction completes and your contract appears under the **Deployed/Unpinned Contracts** list in Remix. Click the contract dropdown to view its variables and functions. Click `getFtsoV2CurrentFeedValues` to show the latest feed values and decimals.

    <img src={QueryLatestFeeds} style={{ width: 300 }} />

The first `_feedValues` array will contain the current prices of FLR/USD, BTC/USD and ETH/USD in the same order as the feed indexes were given. The second `decimals` array will contain the decimal places for the corresponding feeds.

The floating point price of a feed can be calculated by dividing the `feedValue` by 10^`decimals`. For example, if the feed value of BTC/USD is `6900420` and the decimal is `2`, the floating point feed value is `69004.20`.

Next, learn about which all block-latency feeds you query on-chain using FTSOv2, along with their corresponding feed indexes.
